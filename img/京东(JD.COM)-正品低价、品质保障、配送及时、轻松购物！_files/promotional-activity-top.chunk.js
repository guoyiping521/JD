(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"6pVm":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o={TOP_URL:"//api.m.jd.com/api",TOP_IDS:"03704022",TOP_SOURCECODE:"pcDt",TOP_PAGEID:"pcDt",TOP_FUNCTIONID:"queryMaterialAdverts",TOP_APPID:"O2_channel"};t["default"]=o},"6wDc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expose=function expose(e){var t=e.part,r=e.top;n.reportExpose(_objectSpread({poi:"head|adtop|0101"},r.extColumns)),t.forEach(function(e,t){n.reportExpose(_objectSpread({poi:"head|adtop|010".concat(t+2)},e.extColumns))})},t.handleClick=function handleClick(e,t){var r=(0,o.padding)(e+1,2);n.reportClick(_objectSpread({poi:"head|adtop|01".concat(r)},t))},r("yt8O"),r("RW0V"),r("rGqo");var o=r("szSY"),n=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("n5if"));function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){_defineProperty(e,t,r[t])})}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"8+Te":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("VRzm"),r("tUrg");var o=_interopRequireDefault(r("aP5i")),n=_interopRequireDefault(r("qF34")),i=_interopRequireDefault(r("7xuk")),a=_interopRequireDefault(r("S+ax")),l=_interopRequireDefault(r("oP/V")),u=_interopRequireDefault(r("L6Ds")),c=_interopRequireDefault(r("vZHt")),f=_interopRequireDefault(r("6pVm")),s=r("szSY"),p=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("n5if"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){function PromotionalSingleTop(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PromotionalSingleTop),_defineProperty(_assertThisInitialized(_assertThisInitialized(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(PromotionalSingleTop).call(this,e)))),"handleSinglePromotionalData",function(e){var r=e.link,o=e.pictureUrl,n=e.comment,i=990,l=80;return p.reportExpose({poi:"head|adtop|04",url:r}),t.setState({href:r,bgColor:n[0],img:(0,a["default"])(o,{clip:"".concat(i,"x").concat(l)}),wideImg:(0,a["default"])(o)}),Promise.reject({isCustom:200,msg:"数据获取成功 不再获取国内数据"})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(t)),"handleClose",function(e){e.preventDefault(),e.stopPropagation(),t.setState({isClose:!0})}),t.state={img:"",isClose:!1,wideImg:"",href:"",bgColor:""},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PromotionalSingleTop,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(PromotionalSingleTop,[{key:"componentDidMount",value:function componentDidMount(){this.getSinglePromotionalData().then(this.handleSinglePromotionalData)["catch"](function(e){e.isCustom?n["default"].info("%c ".concat(e.msg),"color:#6190E8"):n["default"].error(e)})}},{key:"getSinglePromotionalData",value:function getSinglePromotionalData(){return new Promise(function(e){(0,i["default"])(f["default"].TOP_URL,{name:"jsonpSinglePromotionalTop",params:{uuid:c["default"].uuid,body:JSON.stringify({ids:f["default"].TOP_IDS,sourceCode:f["default"].TOP_SOURCECODE,pageId:f["default"].TOP_PAGEID}),functionId:f["default"].TOP_FUNCTIONID,appid:f["default"].TOP_APPID,client:"pc"}}).then(function(t){e(t.advertInfos[0].list[0])})})}},{key:"render",value:function render(){var e=this.state,t=e.img,r=e.wideImg,n=e.href,i=e.bgColor,u=e.isClose,c=this.props.isWide;if(u)return null;if(!r&&!t)return null;var f=t||r;c&&r?f=r:!c&&t&&(f=t);var d={backgroundColor:i},y={backgroundImage:"url(".concat(f,")")},_=null,m=promotional.topTag&&promotional.topTagRetina;return m&&(_=window.devicePixelRatio>1?(0,a["default"])(promotional.topTagRetina):(0,a["default"])(promotional.topTag)),o["default"].createElement("a",{href:n,target:"_blank",style:d,"aria-label":"顶部推广",className:(0,l["default"])("promotional-top"),clstag:(0,s.generateClstag)("head|adtop_04"),onClick:function onClick(){p.reportClick({poi:"head|adtop|04",url:n})}},o["default"].createElement("div",{className:"jd_container",style:y},m&&o["default"].createElement("div",{className:"promotional-tag__618 promotional-tag__618--rectangle",style:{backgroundImage:"url(".concat(_,")")}}),o["default"].createElement("i",{className:"iconfont JD_close-button--square",onClick:this.handleClose,tabIndex:0,"aria-label":"关闭顶部推广"})))}}]),PromotionalSingleTop}(),y=(0,u["default"])(d);t["default"]=y},"9TJ0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("tUrg");var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(r("aP5i")),n=r("szSY"),i=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("6wDc"));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r("ytZ5");var a=function(e){function GrayPart(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GrayPart);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return _possibleConstructorReturn(r,(t=r=_possibleConstructorReturn(this,(e=_getPrototypeOf(GrayPart)).call.apply(e,[this].concat(n))),function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(_assertThisInitialized(_assertThisInitialized(r)),"handleClickPart",function(e,t,r){r.stopPropagation(),i.handleClick(e,t.extColumns)}),t))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(GrayPart,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(GrayPart,[{key:"render",value:function render(){var e=this,t=this.props.part;return o["default"].createElement("div",{className:"top-parts-gray"},o["default"].createElement("div",{className:"top-parts-gray_item-wrapper"},t.map(function(t,r){return o["default"].createElement("a",{className:"top-parts-gray_item",target:"_blank",href:t.link,key:r,clstag:(0,n.generateClstag)("adtop|010".concat(r+1)),onClick:e.handleClickPart.bind(e,r+1,t),"aria-label":"大促顶部推广".concat(r+1)},o["default"].createElement("img",{src:t.imgUrl,alt:"大促顶部推广".concat(r+1,"图片")}))})))}}]),GrayPart}();t["default"]=a},BDCO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("tUrg");var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}(r("aP5i")),n=r("szSY"),i=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("6wDc"));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(e){function Part(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Part);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return _possibleConstructorReturn(r,(t=r=_possibleConstructorReturn(this,(e=_getPrototypeOf(Part)).call.apply(e,[this].concat(n))),function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(_assertThisInitialized(_assertThisInitialized(r)),"handleClickPart",function(e,t,r){r.stopPropagation(),i.handleClick(e+1,t.extColumns)}),t))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Part,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(Part,[{key:"render",value:function render(){var e=this,t=this.props.part;return o["default"].createElement("div",{className:"top-parts"},t.map(function(t,r){return o["default"].createElement("a",{className:"top-parts__item",target:"_blank",href:t.link,key:r,clstag:(0,n.generateClstag)("adtop|010".concat(r+2)),onClick:e.handleClickPart.bind(e,r,t),"aria-label":"大促顶部推广".concat(r+1)},o["default"].createElement("img",{src:t.imgUrl,alt:"大促顶部推广".concat(r+1,"图片")}))}))}}]),Part}();t["default"]=a},Tq0M:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("VRzm"),r("tUrg");var o=_interopRequireDefault(r("aP5i")),n=_interopRequireDefault(r("qF34")),i=_interopRequireDefault(r("7xuk")),a=_interopRequireDefault(r("S+ax")),l=_interopRequireDefault(r("oP/V")),u=_interopRequireDefault(r("L6Ds")),c=_interopRequireDefault(r("vZHt")),f=_interopRequireDefault(r("iC0Q")),s=r("szSY"),p=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("n5if"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=window._,y=function(e){function PromotionalSingleTop(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PromotionalSingleTop),_defineProperty(_assertThisInitialized(_assertThisInitialized(t=function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}(this,_getPrototypeOf(PromotionalSingleTop).call(this,e)))),"handleEnterpriseTopData",function(e){var r=e.link,o=e.pictureUrl,n=e.comment,i=990,l=80;p.reportExpose({poi:"company|adtop|01",url:r}),t.setState({href:r,bgColor:n[0],img:(0,a["default"])(o,{clip:"".concat(i,"x").concat(l)}),wideImg:(0,a["default"])(o)})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(t)),"handleClose",function(e){e.preventDefault(),e.stopPropagation(),t.setState({isClose:!0})}),t.state={img:"",isClose:!1,wideImg:"",href:"",bgColor:""},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PromotionalSingleTop,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(PromotionalSingleTop,[{key:"componentDidMount",value:function componentDidMount(){this.getEnterpriseTopData().then(this.checkEnterpriseTopData).then(this.handleEnterpriseTopData)["catch"](function(e){if(e.isCustom)return n["default"].info("%c ".concat(e.msg),"color:#6190E8"),void d.eventCenter.trigger("InitPromotionalTop");n["default"].error(e)})}},{key:"checkEnterpriseTopData",value:function checkEnterpriseTopData(e){return 0!==e.length&&e[0].link&&e[0].pictureUrl?Promise.resolve(e[0]):Promise.reject({isCustom:200,msg:"企业顶通无正常数据 现在开始获取其他顶通数据"})}},{key:"getEnterpriseTopData",value:function getEnterpriseTopData(){return new Promise(function(e){(0,i["default"])(f["default"].TOP_URL,{name:"jsonpEnterpriseTop",params:{uuid:c["default"].uuid,body:JSON.stringify({ids:f["default"].TOP_IDS,sourceCode:f["default"].TOP_SOURCECODE,pageId:f["default"].TOP_PAGEID}),functionId:f["default"].TOP_FUNCTIONID,appid:f["default"].TOP_APPID,client:"pc"}}).then(function(t){e(t.advertInfos[0].list)})})}},{key:"render",value:function render(){var e=this.state,t=e.img,r=e.wideImg,n=e.href,i=e.bgColor,a=e.isClose,u=this.props.isWide;if(a)return null;if(!r&&!t)return null;var c=r,f=u?"":"66.5px",d={backgroundColor:i,height:f},y=(0,s.getCoverBackgroundImage)(c,{height:f});return o["default"].createElement("a",{href:n,target:"_blank",style:d,"aria-label":"顶部推广",className:(0,l["default"])("promotional-top"),clstag:(0,s.generateClstag)("company|adtop|01"),onClick:function onClick(){p.reportClick({poi:"company|adtop|01",url:n})}},o["default"].createElement("div",{className:"jd_container",style:y},o["default"].createElement("i",{className:"iconfont JD_close-button--square",onClick:this.handleClose,tabIndex:0,"aria-label":"关闭顶部推广"})))}}]),PromotionalSingleTop}(),_=(0,u["default"])(y);t["default"]=_},dE0Z:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActivityTop=function getActivityTop(){return(0,a.requestAdv)({name:"jsonpActivityTop",speedID:21,umpID:23,uuid:o["default"].uuid,ids:u,dataCheck:function dataCheck(e){var t=Number(e.code);if(!e.advertInfos||0!==t)return!1;var r=processData(e.advertInfos),o=r.top,n=r.part,i=r.dropCurtain;return!(!(o&&n&&i&&Array.isArray(n))||n.length<2)&&(!!(o.link&&o.narrowImageUrl&&o.wideImgUrl)&&!n.some(function(e){return!e.link||!e.imgUrl}))}}).then(function(e){return processData(e)})},t.getGrayActivityTop=function getGrayActivityTop(){return(0,n["default"])(l.ACTIVITY_TOP_GRAY,{name:"jsonpActivityTopGray",params:{uuid:o["default"].uuid},dataCheck:function dataCheck(e){var t=Number(e.code);if(0!==t||!e.data)return!1;var r=e.data,o=r.banner,n=r.curtain,i=r.product,a=o&&o.img&&o.imgN&&o.link,l=n&&n.img&&n.imgN&&n.link,u=i&&i.list&&i.list.length>=3;return!!(a&&l&&u)}}).then(function(e){var t=e.data;return function processGrayData(e){var t=e.banner,r=e.curtain,o=e.product,n={};return n.top={link:t.link,wideImgUrl:(0,i["default"])(t.img),narrowImageUrl:(0,i["default"])(t.imgN),bgColor:t.bgColor,extColumns:getGrayExtColumns(t.ext_columns)},n.dropCurtain={wideImgUrl:(0,i["default"])(r.img),narrowImageUrl:(0,i["default"])(r.imgN)},n.part=o.list.map(function(e){return{imgUrl:(0,i["default"])(e.img),link:"".concat(o.link,"?innerAnchor=").concat(e.sku,"&innerExtId=").concat(o.productGroupId),extColumns:getGrayExtColumns(o.ext_columns)}}),n}(t)})},r("f3/d"),r("tUrg"),r("xfY5");var o=_interopRequireDefault(r("vZHt")),n=_interopRequireDefault(r("7xuk")),i=_interopRequireDefault(r("S+ax")),a=r("szSY"),l=r("8T6v");function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var u="01099781,01089579,01446736";function getExtColumns(e){return{desc:e.desc,biclk:e.biClk,mcinfo:e.mcInfo,url:e.link,text:e.name}}function processData(e){var t=e.map(function(e){return e.list}),r={};if(t[1].length){var o=t[1][0];r.dropCurtain={wideImgUrl:(0,i["default"])(o.pictureUrl),narrowImageUrl:(0,i["default"])(o.extension.pictureUrl)}}if(t[0].length){var n=t[0][0];r.top={link:n.link,wideImgUrl:(0,i["default"])(n.pictureUrl),narrowImageUrl:(0,i["default"])(n.extension.pictureUrl),bgColor:n.comment[0],extColumns:getExtColumns(n)},r.top.link=n.link}return t[2].length&&(r.part=t[2].map(function(e){return{imgUrl:(0,i["default"])(e.pictureUrl),link:e.link,extColumns:getExtColumns(e)}})),r}function getGrayExtColumns(e){return{desc:e.desc,biclk:e.biclk,mcinfo:e.mcinfo,url:e.url,text:e.text}}},iC0Q:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o={TOP_URL:"//api.m.jd.com/api",TOP_IDS:"04207358",TOP_SOURCECODE:"pcDt",TOP_PAGEID:"pcDt",TOP_FUNCTIONID:"queryMaterialAdverts",TOP_APPID:"O2_channel"};t["default"]=o},keVS:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("/SS/"),r("tUrg");var o=_interopRequireDefault(r("aP5i")),n=r("qJ5q"),i=_interopRequireDefault(r("L6Ds")),a=_interopRequireDefault(r("zPjE")),l=_interopRequireDefault(r("S+ax")),u=r("dE0Z"),c=r("szSY"),f=_interopRequireDefault(r("9TJ0")),s=_interopRequireDefault(r("BDCO")),p=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("6wDc"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r("t2ze");var d=function(e){function PromotionalActivityTop(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PromotionalActivityTop);for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return _possibleConstructorReturn(r,(t=r=_possibleConstructorReturn(this,(e=_getPrototypeOf(PromotionalActivityTop)).call.apply(e,[this].concat(n))),_defineProperty(_assertThisInitialized(_assertThisInitialized(r)),"shrinkTimmer",void 0),_defineProperty(_assertThisInitialized(_assertThisInitialized(r)),"state",{topInfo:null,dropCurtain:null,isGray:!1}),_defineProperty(_assertThisInitialized(_assertThisInitialized(r)),"handleClose",function(e){e.preventDefault(),e.stopPropagation(),clearTimeout(r.shrinkTimmer),r.setState({topInfo:null})}),t))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PromotionalActivityTop,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(PromotionalActivityTop,[{key:"shrink",value:function shrink(){var e=this;a["default"].setCookie("lastvisit",Date.now()),this.shrinkTimmer=window.setTimeout(function(){e.setState({dropCurtain:null})},3e3)}},{key:"componentDidMount",value:function componentDidMount(){var e=this,t=a["default"].get("isActivityTime"),r=a["default"].getCookie("lastvisit"),o=r&&(0,c.formatDate)(r,"YYYY/MM/dd")===(0,c.formatDate)(Date.now(),"YYYY/MM/dd"),i=this.props.onLoad;if(t){var l=window.pageConfig.hashList&&window.pageConfig.hashList.top&&window.pageConfig.hashList.top[0]||{start:0,end:500},f=(0,n.GrayReleaseFunction)(l);(f?u.getGrayActivityTop:u.getActivityTop)().then(function(t){var r=t.top,n=t.part,a=t.dropCurtain;if(r&&n&&a){var l={top:r,part:n};(0,c.isDebug)("dropCurtain")&&(a=null),i&&i(),p.expose(l),!a||o?e.setState({topInfo:l,isGray:f}):e.setState({topInfo:l,dropCurtain:a,isGray:f},e.shrink)}})}}},{key:"render",value:function render(){var e=this.props.isWide,t=this.state,r=t.topInfo,n=t.dropCurtain,i=t.isGray;if(r){var a=r.top,u=r.part,d=e?a.wideImgUrl:a.narrowImageUrl;n&&(d=e?n.wideImgUrl:n.narrowImageUrl);var y={backgroundColor:a.bgColor},_={backgroundImage:"url(".concat(d,")")};n&&(y.height=200);var m=null,g=promotional.topTag&&promotional.topTagRetina;g&&(m=window.devicePixelRatio>1?(0,l["default"])(promotional.topTagRetina):(0,l["default"])(promotional.topTag));var b=i?f["default"]:s["default"];return o["default"].createElement("div",{className:"activity-top",style:y,role:"banner","aria-label":"顶部推广",onClick:function onClick(){p.handleClick(0,a.extColumns),window.open(a.link)},clstag:(0,c.generateClstag)("adtop|0101")},o["default"].createElement("div",{className:"jd_container activity-top__inner",style:_},g&&o["default"].createElement("div",{className:"promotional-tag__618 promotional-tag__618--rectangle",style:{backgroundImage:"url(".concat(m,")")}}),o["default"].createElement("i",{className:"iconfont JD_close-button--square",onClick:this.handleClose,tabIndex:0,"aria-label":"关闭顶部推广"}),n?null:o["default"].createElement(b,{part:u})))}}}]),PromotionalActivityTop}(),y=(0,i["default"])(d);t["default"]=y},t2ze:function(e,t,r){},ytZ5:function(e,t,r){}}]);